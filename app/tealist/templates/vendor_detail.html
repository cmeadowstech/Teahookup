{% extends "base.html" %}

{% block content %}
<div class="container">
<div class="row">
  <div class="card border-0 shadow mb-3 pt-3 col-md-8 col-12">
    <div class="card-body">

      <h1>{{ vendor.name }}

        {% if vendor.rating %}
        <span class="badge badge-primary ml-2 mb-2 float-right">{{ vendor.rating }}</span>
        {% endif %}
      </h1>
      <div>
        {% for variety in vendor.variety.all %}
        <span class="badge badge-success badge-pill text-large">{{ variety }}</span>
        {% endfor %}
      </div>

      <div class="locations pt-3 mb-4">
        <h6 class="">
          <i class="material-symbols-outlined material-small">open_in_new</i> Main Site: <a href="{{ vendor.url }}"
            class="link-primary" target="_blank">{{ vendor.url }}
          </a>
        </h6>
        {% if vendor.url_alt %}
        <h6 class="">
          <i class="material-symbols-outlined material-small">public</i> Global Site: <a href="{{ vendor.url_alt }}"
            class="link-primary" target="_blank">{{ vendor.url_alt }}
          </a>
        </h6>
        {% endif %}
      </div>


      {% if vendor.description %}
      <div class="py-4">
        <p>
          {{ vendor.description }}
        </p>
      </div>
      {% endif %}

      <div class="mt-4">
        <h5 class="m-0 pb-2">
          Ships To
        </h5>
        <div>
          {% for location in vendor.ship_to.all %}
          <span class="badge badge-info text-large">{{ location }}</span>
          {% endfor %}
        </div>
      </div>
      <div class="mt-4">
        <h5 class="m-0 pb-2">
          Ships From
        </h5>
        <div>
          {% for location in vendor.store_location.all %}
          <span class="badge badge-info text-large">{{ location }}</span>
          {% endfor %}
        </div>
      </div>
      <div class="my-4">
        <h5 class="m-0 pb-2">
          Sources From
        </h5>
        <div>
          {% for location in vendor.tea_source.all %}
          <span class="badge badge-info  text-large">{{ location }}</span>
          {% endfor %}
        </div>
      </div>

      <!-- Need to redo comment and rating system
      <div id="comments"><a href="{{ vendor.get_absolute_url }}comments/" class="text-center d-block w-100 pt-4"
          hx-get="{{ vendor.get_absolute_url }}comments/" hx-target="#comments">Show Comments</a></div>
      -->


    </div>
  </div>
  <div class="col-md-4 col-12">
    <div class="card border-0 shadow mb-3 mb-3">
      <div class="card-body">
        <h4>Related Collections</h4>
        <ul class="tea-marker">
          {% for collection in related_collections %}
          <li class="border-bottom">
            <a href="{{ collection.get_absolute_url }}" hx-get="{{ collection.get_absolute_url }}" hx-target="#htmx-modal"
              hx-trigger="click">
              {{ collection.name }}
            </a>
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
    <div class="card border-0 shadow mb-3 mb-3">
      <div class="card-body">
        <h6 class="border-bottom pb-2">From the region</h6>
        <ul class="tea-marker">
          {% for vendor in regional_vendors %}
          <li class="border-bottom">
            <a href="{{ vendor.get_absolute_url }}" hx-get="{{ vendor.get_absolute_url }}" hx-target="#htmx-modal"
              hx-trigger="click">
              {{ vendor.name }}
            </a>
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</div>
</div>

{% endblock %}