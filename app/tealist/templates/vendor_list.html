{% extends "base.html" %}

{% block content %}

<div class="container mx-auto">
<div class="grid grid-cols-4 grid-rows-1">
  <div class="list-group col-span-3 text-white px-1">
    {% include 'vendor_list_partial.html' %}
  </div>

  <!-- Form for filtering results -->

  <form class="col-start-4 p-0 px-1" hx-get="{% url 'vendors' %}"
    hx-target=".list-group" hx-push-url="true">
    <fieldset class="filter-form p-3 border-0 shadow">
      {{ filter_form.form.name }}
      {{ filter_form.form.o }}

      <div id="accordion" class="text-white">
        <div class="collapse collapse-arrow">
          <input type="radio" name="my-accordion-2"/> 
          <div class="collapse-title text-xl font-medium">
            Store Location 
          </div>
          <div class="collapse-content"> 
            {% for v in filter_form.form.store_location %}
              {{ v.tag }}<label for="{{ v.id_for_label }}" class="badge badge-success label-for-check font-bold">
                {{ v.choice_label }}
              </label>
            {% endfor %}
          </div>
        </div>

        <div class="collapse collapse-arrow">
          <input type="radio" name="my-accordion-2"/> 
          <div class="collapse-title text-xl font-medium">
            Ships To 
          </div>
          <div class="collapse-content"> 
            {% for v in filter_form.form.ship_to %}
              {{ v.tag }}<label for="{{ v.id_for_label }}"
                class="badge badge-success label-for-check font-bold">
                {{ v.choice_label }}
              </label>
            {% endfor %}
          </div>
        </div>

        <div class="collapse collapse-arrow">
          <input type="radio" name="my-accordion-2"/> 
          <div class="collapse-title text-xl font-medium">
            Sources From
          </div>
          <div class="collapse-content"> 
            {% for v in filter_form.form.tea_source %}
              {{ v.tag }}<label for="{{ v.id_for_label }}"
                class="badge badge-success label-for-check font-bold">
                {{ v.choice_label }}
              </label>
            {% endfor %}
          </div>
        </div>

        <div class="collapse collapse-arrow">
          <input type="radio" name="my-accordion-2"/> 
          <div class="collapse-title text-xl font-medium">
            Varities
          </div>
          <div class="collapse-content"> 
            {% for v in filter_form.form.variety %}
              {{ v.tag }}<label for="{{ v.id_for_label }}"
                class="badge badge-success label-for-check font-bold">
                {{ v.choice_label }}
              </label>
              {% endfor %}
          </div>
        </div>
      </div>

      <input type="submit" value="Apply Filters" class="w-100 p-2 m-0 submit-filters" />
    </fieldset>
  </form>
</div>
</div>

<script>
  var elements = document.getElementsByTagName("INPUT");
  for (var inp of elements) {
    if (inp.type === "checkbox")
      inp.checked = false;
  }
</script>

<script>
  function closeModal() {
    var container = document.getElementById("vendor-modal")
    var backdrop = document.getElementById("modal-backdrop")
    var modal = document.getElementById("modal")

    modal.classList.remove("show")
    backdrop.classList.remove("show")

    setTimeout(function () {
      container.removeChild(backdrop)
      container.removeChild(modal)
    }, 200)
  }
</script>

{% endblock %}