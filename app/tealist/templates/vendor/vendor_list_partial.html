{% load static %}
{% if filter %}
{% for vendor in filter %}
<div class="card bg-base-300 mb-2 shadow-xl">
    <div class="card-body">
        <div class="card-title flex justify-between">
            <h4 class="font-serif text-secondary text-2xl flex justify-center items-center gap-1">
                <a href="{{ vendor.get_absolute_url }}" hx-get="{{ vendor.get_absolute_url }}" hx-target="#htmx_modal" hx-trigger="click"
                    hx-on:click="daisy_modal.showModal()" class="border-b border-transparent hover:border-b hover:border-secondary transition ease-in-out text-left">
                    {{ vendor.name }}
                </a>
                <a href="{{ vendor.url }}" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" />
                    </svg>
                      
                </a>
                {% if vendor.url_alt %}
                <a href="/{{ vendor.url_alt }}" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418" />
                    </svg>                      
                </a>
                {% endif %}
            </h4>
            
            <a href="{{ vendor.get_absolute_url }}" class="text-accent join gap-2 justify-center items-center">
                {% if vendor.rating %}
                <span class="font-serif font-bold text-orange-400 text-2xl">{{ vendor.rating }}</span>
            {% endif %}
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 justify-end">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" />
                </svg>
            </a>
        </div>
        <div>
            {% for variety in vendor.variety.all %}
            <span class="badge badge-success font-bold">{{ variety }}</span>
            {% endfor %}
        </div>
        {% if vendor.description %}
        <div class="pt-4 pb-4 border-bottom">
            <p>
                {{ vendor.description }}
            </p>
        </div>
        {% endif %}
        <div class="grid md:grid-cols-3 text-accent border-t border-success pt-2 text-sm">
            <div class="pl-2">
            <div class="flex">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="w-4 h-4 mr-2">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12" />
                </svg>
                Ships To: {{ vendor.ship_to.all|join:", " }}
            </div>
        </div>
        <div class="pl-2 md:border-x md:border-success">
            <div class="flex">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205 3 1m1.5.5-1.5-.5M6.75 7.364V3h-3v18m3-13.636 10.5-3.819" />
                  </svg>
                   Ships From: {{ vendor.store_location.all|join:", " }}
            </div>
        </div>
        <div class="pl-2">
            <div class="flex">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z" />
                </svg>
                Sources From: {{ vendor.tea_source.all|join:", " }}
            </div>
        </div>
    </div>
</div>
</div>
{% endfor %}

<!-- If there are no results matching the filter -->

{% else %}
<div class="card bg-base-300 shadow-xl">
    <div class="card-body">
        <p>There are no vendors that match your criteria.</p>
    </div>
</div>
{% endif %}

<!-- Pagination -->
<div class="join grid grid-cols-2">
    {% if filter.has_previous %}
    <button class="join-item btn btn-success hover:btn-secondary" hx-get="{% url 'vendors' %}?page={{ filter.previous_page_number }}&{{ parameters }}"
    hx-target=".list-group" hx-push-url="true" hx-swap="innerHTML show:top">Previous page</button>
    {% endif %}
    {% if filter.has_next %}
    <button class="join-item btn btn-success hover:btn-secondary float-right col-start-2" hx-get="{% url 'vendors' %}?page={{ filter.next_page_number }}&{{ parameters }}"
    hx-target=".list-group" hx-push-url="true" hx-swap="innerHTML show:top">Next</button>
    {% endif %}
</div>
